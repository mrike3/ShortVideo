<script setup>
import { ref, onMounted } from 'vue'
import Hammer from 'hammerjs'
import axios from "axios";
import {ElMessage} from 'element-plus'

onMounted(() => {
  const hammer = new Hammer(document.getElementById('video'))
  hammer.on('swipeleft', (e) => {
    changeVideoUrl()
  })
  hammer.on('swiperight', (e) => {
    updownVideo()
  })

  document.getElementById('video').addEventListener('wheel',function(event){
    event.preventDefault();
    if (event.deltaY > 0) {
      changeVideoUrl()
    } else {
      updownVideo()
    }
  })
})

const video1=ref(null)

const VideoList=ref([])

changeVideoUrl()

function changeVideoUrl(){
  axios.get('https://api.kuleu.com/api/xjj?type=json').then(res => {
    VideoList.value.push(res.data.video)
    video1.value.src=res.data.video
  }).catch(err => {
    alert('Error:'+ err)
  })
}
function updownVideo(){
  var nowVideo=video1.value.src
  var index=VideoList.value.indexOf(nowVideo)
  if(index==0){
    ElMessage({
      message: '已经是第一个视频了',
      type: 'info'
    })
  }else {
    video1.value.src=VideoList.value[index-1]
  }
}



</script>

<template>
  <el-row style="width: 100%;flex-direction: column;height: 100vh;flex-wrap: nowrap;;background-color: #151722;border: 1px solid white" align="middle" justify="start">
    <el-row justify="center" align="middle" style="width: 100%;height: 10vh">
      <el-col :span="4" :xs="16">
        <el-row class="wh" style="height: 66px" align="middle" justify="center">
          <svg t="1727416376627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19031" width="36" height="36"><path d="M635.355641 44.530875h105.95277a298.612784 298.612784 0 0 1-42.483478-44.530875h-107.488317v434.048064a313.712333 313.712333 0 0 1 44.019025 20.985815zM635.355641 719.148031a194.860965 194.860965 0 0 0-78.824766-157.137684 194.91215 194.91215 0 0 1 34.805741 111.583111 197.164286 197.164286 0 0 1-194.502671 196.550067h-2.047396a178.686532 178.686532 0 0 1-44.019026-5.118491 196.550067 196.550067 0 0 0 118.23715 50.161215 196.498882 196.498882 0 0 0 166.350968-196.038218zM205.40237 521.574266A304.345494 304.345494 0 0 1 460.303238 414.597797a314.531292 314.531292 0 0 1 113.118658 12.796229 304.140755 304.140755 0 0 0-378.768358 474.995995 304.345494 304.345494 0 0 1 10.748832-380.815755zM843.678238 91.109146a73.65509 73.65509 0 0 1-15.867323-2.047397c5.63034 5.118491 10.748832 9.213284 15.867323 13.308077zM932.739987 138.199266s-39.412383 2.047397-89.061749-35.31759V127.962283a125.761332 125.761332 0 0 0 41.971629 10.236983v99.298731a369.043225 369.043225 0 0 0 46.578271 12.796229V138.199266z" fill="#FFFFFF" p-id="19032"></path><path d="M591.336616 434.048064c-6.14219-2.559246-12.284379-4.606642-18.426569-6.654038 6.14219 4.606642 12.284379 9.213284 18.426569 14.331775zM742.33211 737.5746a304.754973 304.754973 0 0 1-282.540722 285.099967 304.857343 304.857343 0 0 0 326.559747-285.099967V212.929239a357.065955 357.065955 0 0 1-44.019025-28.151702zM286.274533 719.65988A196.396512 196.396512 0 0 1 460.815087 524.133512a154.783178 154.783178 0 0 0-22.009513-1.023699 196.498882 196.498882 0 0 0-161.744326 308.133178 189.947213 189.947213 0 0 0 74.218124 34.293892 198.136799 198.136799 0 0 1-65.004839-145.877003zM827.810915 89.573598a299.994777 299.994777 0 0 1-40.436082-45.042723h-44.530874c1.023698 1.023698 2.047397 2.559246 3.071095 3.582943 34.293892 27.639853 64.492991 37.876836 81.895861 41.45978z" fill="#FFFFFF" p-id="19033"></path><path d="M277.061248 830.219293a196.447697 196.447697 0 0 0 161.744326 84.966956v2.047396h2.047397a175.564252 175.564252 0 0 0 28.663551-2.559245 195.270444 195.270444 0 0 1-118.23715-50.161215 189.947213 189.947213 0 0 1-74.218124-34.293892zM843.678238 127.962283v-25.080607a182.320661 182.320661 0 0 1-15.867323-13.308078c-17.402871-3.582944-47.601969-13.308077-81.895861-41.45978 35.829439 46.578271 71.658879 69.099633 97.763184 79.848465zM460.303238 414.597797a303.628905 303.628905 0 0 1 175.052403 71.658879v-31.222797a313.712333 313.712333 0 0 0-44.019025-20.985815v7.677737c-6.14219-5.118491-11.77253-9.725134-18.426569-14.331775a311.767307 311.767307 0 0 0-112.606809-12.796229zM786.351135 186.313084v26.616155a378.102954 378.102954 0 0 0 99.810581 37.364987v-12.796229a370.271662 370.271662 0 0 1-94.69209-49.137516 15.355474 15.355474 0 0 1-5.118491-2.047397zM199.26018 906.484814a33.116639 33.116639 0 0 0-4.606642-4.094793 320.059263 320.059263 0 0 0 46.066422 49.137516 303.628905 303.628905 0 0 0 219.071428 71.658879 303.372981 303.372981 0 0 1-161.232476-60.398198 310.590054 310.590054 0 0 1-99.298732-56.303404z" fill="#FFFFFF" p-id="19034"></path><path d="M298.558912 962.276369c-4.606642-3.582944-9.213284-7.165888-13.819927-11.260681A304.550234 304.550234 0 0 1 460.303238 414.597797 304.908528 304.908528 0 0 0 194.653538 902.390021a33.116639 33.116639 0 0 0 4.606642 4.094793A299.738852 299.738852 0 0 0 298.558912 962.276369zM786.351135 186.313084c1.535547 0.511849 3.071095 1.023698 5.118491 1.535548-1.535547-1.023698-3.071095-2.047397-5.118491-3.582944zM698.824933 138.199266v552.797063a303.936015 303.936015 0 0 1-400.266021 271.28004 303.372981 303.372981 0 0 0 161.232476 60.398198 304.754973 304.754973 0 0 0 282.540722-285.099967v-552.797063a305.625117 305.625117 0 0 0 44.019025 28.151702v-26.616155a355.683962 355.683962 0 0 1-87.526202-48.113818zM742.843959 44.530875h-1.535548c1.535547 1.023698 3.071095 2.559246 4.606643 3.582943-1.023698-1.023698-2.047397-2.559246-3.071095-3.582943z" fill="#FFFFFF" p-id="19035"></path><path d="M679.374666 486.256676a326.815671 326.815671 0 0 0-44.019025-31.222797V486.256676a303.628905 303.628905 0 0 0-175.052403-71.658879 305.062083 305.062083 0 0 0-175.564253 536.92974c4.606642 4.094793 9.213284 7.677737 13.819927 11.260681a303.936015 303.936015 0 0 0 400.266021-271.28004V138.199266a341.352186 341.352186 0 0 0 87.526202 48.625667v-1.535547a44.27495 44.27495 0 0 0 5.118491 3.582944 365.306726 365.306726 0 0 0 52.720461 14.843625V127.962283c-26.616155-10.748832-61.933745-33.270194-98.275033-79.848465-1.535547-1.023698-3.071095-2.559246-4.606643-3.582943h-61.933745V486.256676z m-195.014519 430.976969h-1.023698v-2.047396a124.737634 124.737634 0 0 1-13.819927-0.511849 259.353955 259.353955 0 0 1-28.663551 2.559245h-2.047397v-2.047396a196.447697 196.447697 0 0 1-161.744326-84.966956 196.550067 196.550067 0 1 1 249.782377-303.014687 197.62495 197.62495 0 0 1-42.483478 390.029039z" fill="#FFFFFF" p-id="19036"></path></svg>
          <svg t="1727416405092" class="icon" viewBox="0 0 1776 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19289" width="64" height="64"><path d="M0 0h1.556078L0 1.556078V0zM337.819608 206.607059c23.692549 0 47.385098-0.050196 71.127843-0.100392-0.200784 36.191373 0.050196 72.432941-0.150588 108.624313 22.387451 0.301176 44.774902 0.301176 67.162353 0.301177 0.301176 23.642353 0.401569 47.284706-0.150589 70.927059-22.337255 1.907451-44.724706 1.606275-67.112156 1.606274 0.401569 42.917647-0.200784 85.88549 0.401568 128.853334 22.738824-6.876863 45.377255-14.406275 68.668236-19.225099 0.100392 24.746667-2.258824 49.392941-2.007844 74.189804-22.136471 6.927059-44.423529 13.201569-66.81098 19.275295 2.108235 44.122353-4.467451 87.993725-0.803137 131.915294-1.15451 74.49098-72.533333 135.68-145.66902 131.614117 0.150588-23.090196 0.25098-46.180392-0.100392-69.320784 36.291765 0.752941 74.49098-23.190588 76.448627-62.042353-0.652549-36.643137-1.857255-73.336471-0.903529-109.979608-25.298824 5.320784-49.694118 14.305882-74.992941 19.827451-0.501961-25.298824-0.501961-50.647843 0.552157-75.89647 25.6-3.262745 49.643922-12.8 74.290196-19.927844 0.25098-49.493333-0.752941-98.986667 0.702745-148.48-25.098039-4.618039-50.597647-2.56-75.946667-3.06196 0.25098-23.391373 0.150588-46.832941 0.050196-70.27451 25.098039-0.100392 50.196078-0.25098 75.294118-0.150588-0.25098-36.241569-0.200784-72.432941-0.050196-108.67451zM749.076078 206.607059c23.993725-0.200784 47.987451-0.200784 71.930981 0.100392-0.652549 150.989804-0.150588 302.029804-0.200784 453.069804 29.916863 0.652549 59.883922 0.451765 89.85098 0.100392-0.351373 23.391373 1.40549 46.933333-0.953726 70.27451-29.665882 3.363137-59.733333-1.606275-89.349019 3.061961 0.853333 40.508235 0.100392 81.066667 0.401568 121.625098-23.893333-0.301176-47.786667-0.200784-71.68-0.150589 0.050196-41.160784-0.351373-82.371765-0.050196-123.582745-85.88549 0.351373-171.77098 0.301176-257.65647 0-0.552157-23.642353-0.652549-47.334902-0.250981-71.027451 85.985882-0.25098 171.971765 0.803137 257.907451-0.552156-0.150588-150.939608-0.200784-301.929412 0.050196-452.919216zM1251.087059 206.556863c23.692549 0.803137 47.284706-1.756863 70.977255-2.710588-0.200784 19.978039-0.25098 39.956078 0.150588 59.984313 84.680784 0.652549 169.461961-0.803137 254.142745 0.652549 7.529412 21.132549 1.305098 47.083922 3.162353 70.073726-195.664314-0.200784-391.328627-0.652549-586.992941 0.25098-0.652549-23.642353-0.501961-47.284706-0.301177-70.876863 85.584314 0 171.218824-0.100392 256.853334 0.050196 1.656471-19.07451 1.907451-38.249412 2.007843-57.424313z" fill="#ffffff" p-id="19290"></path><path d="M518.876863 385.505882c2.409412-22.437647-5.471373-50.095686 3.865098-69.320784 61.339608-2.108235 122.88-0.451765 184.32-0.552157 0.150588 23.341176 0.200784 46.682353-0.301177 69.973334-62.59451 0.301176-125.239216 0.501961-187.883921-0.100393zM1101.301961 363.168627c21.985882-6.475294 47.184314 1.40549 70.425098-0.652549 0.301176 21.283137 0.301176 42.566275 0.150588 63.849412 76.348235 0.351373 152.746667 1.054118 229.145098-0.351372-0.100392-21.935686-0.100392-43.921569 0.652549-65.807059 22.136471 2.058039 44.373333 2.359216 66.509804-0.451765 5.220392 21.935686 3.463529 44.523922 3.71451 66.861177 45.578039-0.050196 91.156078 0.552157 136.734117-0.351373 0.100392 24.345098 0.050196 48.64 0.351373 72.985098-214.839216-0.401569-429.678431-0.401569-644.517647-0.050196 0.050196-24.19451 0.100392-48.38902-0.150588-72.583529 45.377255 0.401569 90.704314-0.451765 136.081568 0.552156 0.200784-21.333333-1.40549-42.767059 0.90353-64zM519.328627 498.396863c63.196863-5.872941 126.59451 1.606275 189.891765-0.301177-2.158431 22.738824-3.112157 45.527843-2.459608 68.367059-62.544314-0.351373-125.138824 1.807059-187.582745-0.050196 0.100392-22.638431 0.200784-45.327059 0.150588-68.015686zM1040.414118 602.553725c-0.150588-34.183529 33.02902-63.297255 66.409411-62.84549 104.508235-4.116078 209.167059-0.25098 313.725491-2.058039-0.050196 24.19451 0.050196 48.38902-0.552157 72.583529-95.272157 0.050196-190.494118-0.702745-285.716079 0.250981-23.642353 0-23.893333 27.557647-27.105882 44.523921 8.683922 4.216471 18.17098 5.923137 27.808627 5.421177 95.171765-0.803137 190.393725 0.200784 285.565491-0.552157-0.050196 23.843137-0.050196 47.686275-0.301177 71.529412-103.152941 0.050196-206.305882-0.501961-309.458823 0.100392-1.254902 19.124706-2.760784 50.04549 24.144313 50.145882 100.09098 1.305098 200.282353 0.351373 300.42353 0.451765 15.61098 1.204706 28.109804-13.753725 27.206274-28.762353 0.602353-71.780392-0.200784-143.61098 0.150588-215.441569 23.140392 0.100392 46.280784 0.200784 69.421177-0.301176 1.857255 81.869804 0.401569 163.84 0.552157 245.76 2.258824 38.299608-33.53098 74.089412-71.880784 71.127843-115.551373-0.200784-231.253333 1.455686-346.654118-1.305098-35.940392 6.27451-72.031373-25.148235-73.637647-60.887843-1.957647-63.196863-1.606275-126.494118-0.100392-189.741177z" fill="#ffffff" p-id="19291"></path></svg>
        </el-row>
      </el-col>
      <el-col :span="13" :xs="0">
        <el-row class="wh" style="height: 66px" align="middle" justify="end">
          <el-input style="width: 400px;height: 40px;"
                    input-style=""
                    placeholder="我在精神病院学斩神第二季"
          >
            <template #append>
              <el-button plain>
                <template #icon>
                  <el-icon><Search /></el-icon>
                </template>
                搜索
              </el-button>
            </template>
          </el-input>
        </el-row>
      </el-col>
      <el-col :span="6" :xs="0">
        <el-row class="wh" style="height: 66px" justify="center" align="middle">
          <el-space size="large">
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Cpu /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Printer /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Ship /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Sell /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Lollipop /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Orange /></el-icon>
              </template>
            </el-button>
            <el-button type="text">
              <template #icon>
                <el-icon color="#fff" size="20"><Microphone /></el-icon>
              </template>
            </el-button>
          </el-space>
        </el-row>
      </el-col>
      <el-col :span="1" :xs="8" style="display: flex;align-items: center;height: 66px">
        <el-avatar src="/tx2.jpg"></el-avatar>
      </el-col>
    </el-row>

    <el-row style="width: 100%;height: 90vh" align="top">
      <el-col :span="3" :xs="24" id="siderBar1">
        <el-row id="siderBar">
          <el-button style="width: 128px;height: 40px;color: #fff" type="text" round >
            <template #icon>
              <el-icon><HomeFilled /></el-icon>
            </template>首页
          </el-button><br />&nbsp;
          <el-button style="width: 128px;height: 40px;color: #fff" type="info" round >
            <template #icon>
              <el-icon><Star /></el-icon>
            </template>推荐
          </el-button><br />&nbsp;
          <el-button style="width: 128px;height: 40px;color: #fff" type="text" round >
            <template #icon>
              <el-icon><Clock /></el-icon>
            </template>时钟
          </el-button><br />&nbsp;
          <el-button style="width: 128px;height: 40px;color: #fff" type="text" round >
            <template #icon>
              <el-icon><Tools /></el-icon>
            </template>设置
          </el-button><br />&nbsp;
          <el-button style="width: 128px;height: 40px;color: #fff" type="text" round >
            <template #icon>
              <el-icon><Promotion /></el-icon>
            </template>飞机
          </el-button><br />&nbsp;
          <el-button style="width: 128px;height: 40px;color: #fff" type="text" round >
            <template #icon>
              <el-icon><CameraFilled /></el-icon>
            </template>相机
          </el-button><br />&nbsp;
        </el-row>
      </el-col>

      <el-col :span="20" :xs="24" id="videoCol">
        <el-row style="height: 100%;" justify="center" align="middle">
          <!--          <el-col :span="6" style="display:flex;align-items: center;justify-content: center;height: 100%;flex-direction: column">-->
          <!--            <div>-->
          <!--              <el-button round @click="changeVideoUrl">-->
          <!--                <template #icon>-->
          <!--                  <el-icon><ArrowUpBold /></el-icon>-->
          <!--                </template>-->
          <!--              </el-button>-->
          <!--            </div>-->

          <!--            <div style="margin-top: 20px">-->
          <!--              <el-button round @click="changeVideoUrl">-->
          <!--                <template #icon>-->
          <!--                  <el-icon><ArrowDownBold /></el-icon>-->
          <!--                </template>-->
          <!--              </el-button>-->
          <!--            </div>-->
          <!--          </el-col>-->
          <el-col :span="24" style="height: 100%;display: flex;align-items: center;justify-content: center;">
            <video id="video" ref="video1" loop autoplay controls
                   src=""
            >
            </video>
          </el-col>
        </el-row>
      </el-col>

    </el-row>
  </el-row>


</template>

<style scoped>
@media (max-device-width: 768px) {
  #video{
    width: 100%;
  }
  #videoCol{
    overflow: scroll;
    height:auto;
  }
  #siderBar1{
    height: 20%;
    border-bottom: 2px solid #eee;
  }
  #siderBar{
    flex-direction: row;
    width: 100%;
    justify-content: center;
    align-items: center;
  }
}
@media (min-device-width: 768px) {
  #video{
    height: 100%;
  }
  #videoCol{
    background-color: #151722;
    border-radius: 20px;
    height: 95%;
  }

  #siderBar1{
    height: 100%;
  }
  #siderBar{
    flex-direction: column;
    height: 100%;
    justify-content: center;
    align-items: center;
  }
}


.wh{
  width: 100%;
  height: 100%;
}
</style>
